<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>緩急分離運転到着予想システム</title>
        <link rel="stylesheet" href="css/style.css">
    </head>

    <body>
        <h1>緩急分離運転到着予想システム</h1>

        <div class="description">
            複々線区間において、緩行線（各駅停車）と急行線（速達列車）を分離して運転する方式の到着時刻を計算します。
        </div>

        <!-- 出発駅・方向選択UI -->
        <div class="selection-area">
            <div class="selection-item">
                <label for="departureStation">出発駅:</label>
                <select id="departureStation" onchange="updateTableStructure()">
                    <option value="錦糸町">錦糸町</option>
                    <option value="新小岩">新小岩</option>
                    <option value="市川">市川</option>
                    <option value="船橋">船橋</option>
                    <option value="津田沼">津田沼</option>
                    <option value="稲毛">稲毛</option>
                    <option value="千葉">千葉</option>
                </select>
            </div>

            <div class="selection-item">
                <label>方向:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="direction" value="千葉方面" onchange="updateTableStructure()">
                        千葉方面
                    </label>
                    <label>
                        <input type="radio" name="direction" value="錦糸町方面" onchange="updateTableStructure()">
                        錦糸町方面
                    </label>
                </div>
                <span id="directionError" class="error"></span>
            </div>
        </div>

        <!-- 時刻設定ボタン -->
        <div class="button-area">
            <button onclick="setCurrentTime()">現在時刻に設定</button>
        </div>

        <!-- 動的に生成される時刻表 -->
        <table id="timeTable">
            <thead>
                <tr>
                    <th></th>
                    <th>緩行</th>
                    <th>急行</th>
                </tr>
            </thead>
            <tbody>
                <!-- 行は動的に生成される（各行が駅名） -->
            </tbody>
        </table>

        <!-- 操作ボタン -->
        <div class="button-area">
            <button onclick="updateTable()">予測計算</button>
            <button onclick="resetTable()">リセット</button>
        </div>

        <!-- 初期化メッセージ -->
        <div id="initialMessage" class="initial-message">
            出発駅と方向を選択して、緩急分離運転の到着時刻を計算してください。
        </div>

        <script src="js/data.js"></script>
        <script src="js/script.js"></script>

        <!-- 初期化処理 -->
        <script>
            // ページ読み込み時の初期化
            document.addEventListener('DOMContentLoaded', function () {
                // デフォルトで錦糸町・千葉方面を選択
                document.getElementById('departureStation').value = '錦糸町';
                document.querySelector('input[name="direction"][value="千葉方面"]').checked = true;
                updateTableStructure();
            });
        </script>
    </body>

</html>